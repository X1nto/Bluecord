--- ./discord_94011/src/main/java/com/lytefast/flexinput/fragment/FlexInputFragment.java	2021-12-24 01:10:16.019025900 +0400
+++ ./bluecord/src/main/java/com/lytefast/flexinput/fragment/FlexInputFragment.java	2021-12-24 01:08:36.433262000 +0400
@@ -61,6 +61,8 @@ import kotlin.Unit;
 import kotlin.jvm.functions.Function0;
 import kotlin.jvm.functions.Function1;
 import kotlin.reflect.KProperty;
+import mods.ThemingTools;
+import mods.activity.MediaTray;
 import rx.Subscription;
 
 @Metadata(bv = {1, 0, 3}, d1 = {"\u0000¦\u0001\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\u0010\u000b\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0007\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u0011\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010!\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u000b\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\b\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0005\b\u0016\u0018\u00002\u00020\u00012\b\u0012\u0004\u0012\u00020\u00030\u0002B\u0007¢\u0006\u0004\ba\u0010\u0015J\u000f\u0010\u0005\u001a\u00020\u0004H\u0002¢\u0006\u0004\b\u0005\u0010\u0006J-\u0010\u000e\u001a\u0004\u0018\u00010\r2\u0006\u0010\b\u001a\u00020\u00072\b\u0010\n\u001a\u0004\u0018\u00010\t2\b\u0010\f\u001a\u0004\u0018\u00010\u000bH\u0016¢\u0006\u0004\b\u000e\u0010\u000fJ!\u0010\u0012\u001a\u00020\u00112\u0006\u0010\u0010\u001a\u00020\r2\b\u0010\f\u001a\u0004\u0018\u00010\u000bH\u0016¢\u0006\u0004\b\u0012\u0010\u0013J\u000f\u0010\u0014\u001a\u00020\u0011H\u0016¢\u0006\u0004\b\u0014\u0010\u0015J\u001b\u0010\u0018\u001a\u00020\u00112\f\u0010\u0017\u001a\b\u0012\u0004\u0012\u00020\u00110\u0016¢\u0006\u0004\b\u0018\u0010\u0019J\r\u0010\u001b\u001a\u00020\u001a¢\u0006\u0004\b\u001b\u0010\u001cJ\u0017\u0010\u001e\u001a\u00020\u00112\u0006\u0010\u001d\u001a\u00020\u000bH\u0016¢\u0006\u0004\b\u001e\u0010\u001fJ\u000f\u0010 \u001a\u00020\u0011H\u0016¢\u0006\u0004\b \u0010\u0015J\u000f\u0010!\u001a\u00020\u0011H\u0016¢\u0006\u0004\b!\u0010\u0015J\u001d\u0010$\u001a\u00020\u00112\f\u0010#\u001a\b\u0012\u0004\u0012\u00020\u00030\"H\u0016¢\u0006\u0004\b$\u0010%J\u001d\u0010'\u001a\u00020\u00112\f\u0010&\u001a\b\u0012\u0004\u0012\u00020\u00110\u0016H\u0016¢\u0006\u0004\b'\u0010\u0019J\u000f\u0010(\u001a\u00020\u0004H\u0016¢\u0006\u0004\b(\u0010\u0006R\u0018\u0010,\u001a\u0004\u0018\u00010)8\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\b*\u0010+R\"\u00100\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u00030\"0-8\u0002@\u0002X.¢\u0006\u0006\n\u0004\b.\u0010/R\u0018\u00103\u001a\u0004\u0018\u0001018\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\b\u0005\u00102R\u0019\u00108\u001a\b\u0012\u0004\u0012\u000205048F@\u0006¢\u0006\u0006\u001a\u0004\b6\u00107R\"\u0010<\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u00110\u0016098\u0002@\u0002X\u0004¢\u0006\u0006\n\u0004\b:\u0010;R\"\u0010D\u001a\u00020=8\u0016@\u0016X.¢\u0006\u0012\n\u0004\b>\u0010?\u001a\u0004\b@\u0010A\"\u0004\bB\u0010CR\u0018\u0010F\u001a\u0004\u0018\u00010)8\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\bE\u0010+R\u0018\u0010H\u001a\u0004\u0018\u00010)8\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\bG\u0010+R\"\u0010L\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u00030\"0I8V@\u0016X\u0004¢\u0006\u0006\u001a\u0004\bJ\u0010KR\u0018\u0010P\u001a\u0004\u0018\u00010M8\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\bN\u0010OR\u001c\u0010S\u001a\b\u0012\u0004\u0012\u000205048\u0002@\u0002X.¢\u0006\u0006\n\u0004\bQ\u0010RR\"\u0010U\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u00110\u0016098\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\bT\u0010;R\u001d\u0010Z\u001a\u00020V8B@\u0002X\u0002¢\u0006\f\n\u0004\b6\u0010W\u001a\u0004\bX\u0010YR\u0016\u0010\\\u001a\u00020\u001a8\u0002@\u0002X.¢\u0006\u0006\n\u0004\b\u001b\u0010[R\u0018\u0010`\u001a\u0004\u0018\u00010]8\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\b^\u0010_¨\u0006b"}, d2 = {"Lcom/lytefast/flexinput/fragment/FlexInputFragment;", "Landroidx/fragment/app/Fragment;", "Lc/b/a/b;", "", "", "m", "()Z", "Landroid/view/LayoutInflater;", "inflater", "Landroid/view/ViewGroup;", "container", "Landroid/os/Bundle;", "savedInstanceState", "Landroid/view/View;", "onCreateView", "(Landroid/view/LayoutInflater;Landroid/view/ViewGroup;Landroid/os/Bundle;)Landroid/view/View;", "view", "", "onViewCreated", "(Landroid/view/View;Landroid/os/Bundle;)V", "onResume", "()V", "Lkotlin/Function0;", "onViewCreatedUpdate", "i", "(Lkotlin/jvm/functions/Function0;)V", "Lcom/lytefast/flexinput/widget/FlexEditText;", "l", "()Lcom/lytefast/flexinput/widget/FlexEditText;", "outState", "onSaveInstanceState", "(Landroid/os/Bundle;)V", "onPause", "onDestroyView", "Lcom/lytefast/flexinput/model/Attachment;", "attachment", "f", "(Lcom/lytefast/flexinput/model/Attachment;)V", "onSuccess", "requestMediaPermissions", "hasMediaPermissions", "Lrx/Subscription;", "t", "Lrx/Subscription;", "eventSubscription", "Lcom/lytefast/flexinput/adapters/AttachmentPreviewAdapter;", "p", "Lcom/lytefast/flexinput/adapters/AttachmentPreviewAdapter;", "attachmentPreviewAdapter", "Lc/b/a/f/a;", "Lc/b/a/f/a;", "keyboardManager", "", "Lc/b/a/d/d$a;", "k", "()[Lcom/lytefast/flexinput/adapters/AddContentPagerAdapter$PageSupplier;", "contentPages", "", "v", "Ljava/util/List;", "onViewCreatedUpdates", "Lcom/lytefast/flexinput/managers/FileManager;", "o", "Lcom/lytefast/flexinput/managers/FileManager;", "getFileManager", "()Lcom/lytefast/flexinput/managers/FileManager;", "setFileManager", "(Lcom/lytefast/flexinput/managers/FileManager;)V", "fileManager", "s", "stateSubscription", "u", "showExpressionKeyboardSubscription", "Lcom/lytefast/flexinput/utils/SelectionAggregator;", "b", "()Lcom/lytefast/flexinput/utils/SelectionAggregator;", "selectionAggregator", "Lcom/lytefast/flexinput/FlexInputListener;", "n", "Lcom/lytefast/flexinput/FlexInputListener;", "inputListener", "q", "[Lcom/lytefast/flexinput/adapters/AddContentPagerAdapter$PageSupplier;", "pageSuppliers", "w", "onContentPagesInitializedUpdates", "Lc/b/a/e/a;", "Lcom/discord/utilities/viewbinding/FragmentViewBindingDelegate;", "j", "()Lc/b/a/e/a;", "binding", "Lcom/lytefast/flexinput/widget/FlexEditText;", "inputEt", "Lcom/lytefast/flexinput/viewmodel/FlexInputViewModel;", "r", "Lcom/lytefast/flexinput/viewmodel/FlexInputViewModel;", "viewModel", "<init>", "flexinput_release"}, k = 1, mv = {1, 4, 2})
@@ -234,18 +236,18 @@ public class FlexInputFragment extends F
 
         /* Return type fixed from 'java.lang.Object' to match base method */
         /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
-        /* JADX WARNING: Removed duplicated region for block: B:39:0x00ec  */
-        /* JADX WARNING: Removed duplicated region for block: B:40:0x00ee  */
-        /* JADX WARNING: Removed duplicated region for block: B:48:0x0108  */
-        /* JADX WARNING: Removed duplicated region for block: B:49:0x010a  */
-        /* JADX WARNING: Removed duplicated region for block: B:52:0x0127  */
-        /* JADX WARNING: Removed duplicated region for block: B:53:0x012c  */
-        /* JADX WARNING: Removed duplicated region for block: B:56:0x0143  */
-        /* JADX WARNING: Removed duplicated region for block: B:74:0x019c  */
-        /* JADX WARNING: Removed duplicated region for block: B:83:0x01bd A[ADDED_TO_REGION] */
-        /* JADX WARNING: Removed duplicated region for block: B:91:0x01dd  */
-        /* JADX WARNING: Removed duplicated region for block: B:94:0x01e5  */
-        /* JADX WARNING: Removed duplicated region for block: B:95:0x01e9  */
+        /* JADX WARNING: Removed duplicated region for block: B:39:0x00f0  */
+        /* JADX WARNING: Removed duplicated region for block: B:40:0x00f2  */
+        /* JADX WARNING: Removed duplicated region for block: B:48:0x010c  */
+        /* JADX WARNING: Removed duplicated region for block: B:49:0x010e  */
+        /* JADX WARNING: Removed duplicated region for block: B:52:0x012b  */
+        /* JADX WARNING: Removed duplicated region for block: B:53:0x0130  */
+        /* JADX WARNING: Removed duplicated region for block: B:56:0x0147  */
+        /* JADX WARNING: Removed duplicated region for block: B:74:0x01a0  */
+        /* JADX WARNING: Removed duplicated region for block: B:83:0x01c1 A[ADDED_TO_REGION] */
+        /* JADX WARNING: Removed duplicated region for block: B:91:0x01e1  */
+        /* JADX WARNING: Removed duplicated region for block: B:94:0x01e9  */
+        /* JADX WARNING: Removed duplicated region for block: B:95:0x01ed  */
         @Override // kotlin.jvm.functions.Function1
         public Unit invoke(FlexInputState flexInputState) {
             boolean z2;
@@ -282,7 +284,7 @@ public class FlexInputFragment extends F
                 appCompatImageButton.setVisibility(!z3 ? 0 : 8);
                 AppCompatImageButton appCompatImageButton2 = flexInputFragment.j().m;
                 m.checkNotNullExpressionValue(appCompatImageButton2, "binding.giftBtn");
-                appCompatImageButton2.setVisibility(z3 ? 0 : 8);
+                appCompatImageButton2.setVisibility(ThemingTools.removeGiftButton(z3 ? 0 : 8));
                 AppCompatImageButton appCompatImageButton3 = flexInputFragment.j().l;
                 m.checkNotNullExpressionValue(appCompatImageButton3, "binding.galleryBtn");
                 appCompatImageButton3.setVisibility(z3 ? 0 : 8);
@@ -612,6 +614,7 @@ public class FlexInputFragment extends F
     public View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
         m.checkNotNullParameter(layoutInflater, "inflater");
         View inflate = layoutInflater.inflate(R.f.flex_input_widget, viewGroup, false);
+        MediaTray.init(this, inflate);
         View findViewById = inflate.findViewById(R.e.text_input);
         m.checkNotNullExpressionValue(findViewById, "root.findViewById(R.id.text_input)");
         this.l = (FlexEditText) findViewById;
